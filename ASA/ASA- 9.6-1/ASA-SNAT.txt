ASA NAT


manual dynamic nat/pat
auto dynamic nat/pat

dynamic nat

dynamic nat is unidirectional and only translates source to destination. It uses
a poll of public addresses. As soon as the poll of addresses are used it can no longer translate internal
addresses to public and traffic will be dropped.

dynamic pat

dynamic pat is unidriectional and will translate internal to outside address and overload and use 
different ports allowing for traffic to use the same address outgoing but every port will be different.

static nat

static nat is bidirectional and would be used for a internal webserer. the source and dest port does not change.

static pat 

static pat is unidirectional, translate source and destination. is used for conditions. 


when you do manual dnat it will take priority over auto dnat.
dnat is always unidirectional. It will only allow inside outbound via outside. 
dnat will use a poll of addreses to use for prenat addresses. If there is more prenat addresses
than postnat addresses the traffic will be dropped as there is no address that can be assigned to the
internal address.




! Create your network object policy based

1, create network object
1a, identify the internal host
1b. create a static NAT statement
2. create a access-control list
3. apply the ACL to the outside interface

=======================================================
create a nat policy to route out the outside interface using the outside interface ip for port 80 
=======================================================

1, create network object
1a, identify the internal host
1b. create a static NAT statement
2. create a access-control list
3. apply the ACL to the outside interface

step [1]
object network Outside_to_Inside_Web_Server
    host 192.168.102.5
    nat (inside,outside) static interface service tcp 80 80
step [2]
access-list outside_to_webserver permit tcp any host 192.168.102.5 eq www
step [3]
access-group outside_to_webserver in interface outisde

=========================================================
create a nat to another ip address in the outside ip range
=========================================================

object network web-outside
    host 56.10.22.6

object network web-inside
    host 172.16.0.2
    nat (dmz,outside) static web-outside

! Traffic Flow 
nat (source, destination) <nat type> <public network object>

access-list dmz_outside extended permit icmp any host <internal server add>
access-group dmz_outside in interface outside


! show commands
show run object
show nat 
show xlate